{% extends "layout.html" %}

{% block body %}
<form role="form" method="POST">
  <div class="panel panel-default center">
    <div class="panel-heading">Registrarse</div>
    <div class="panel-body">
      <div class="form-group {% if form.username.errors %}has-error has-feedback{% endif %}">
        <input type="text" class="form-control" id="username" name="username" placeholder="Nombre de usuario" value="{{ form.username.data }}">
      </div>
      <div class="form-group {% if form.firstname.errors %}has-error has-feedback{% endif %}">
        <input type="text" class="form-control" id="firstname" name="firstname" placeholder="Nombre" value="{{ form.firstname.data }}">
      </div>
      <div class="form-group {% if form.lastname.errors %}has-error has-feedback{% endif %}">
        <input type="text" class="form-control" id="lastname" name="lastname" placeholder="Apellidos (opcional)" value="{{ form.lastname.data }}">
      </div>
      <div class="form-group {% if form.email.errors %}has-error has-feedback{% endif %}">
        <input type="text" class="form-control" id="email" name="email" placeholder="Email" value="{{ form.email.data }}">
      </div>
      <div class="form-group {% if form.password.errors %}has-error has-feedback{% endif %}">
        <input type="password" class="form-control" id="password" name="password" placeholder="Contraseña">
      </div>
      <div class="form-group {% if form.password.errors %}has-error has-feedback{% endif %}">
        <input type="password" class="form-control" id="confirm" name="confirm" placeholder="Confirma la contraseña">
      </div>
      <div class="form-group {% if form.password.errors %}has-error has-feedback{% endif %}">
        <label>¿Eres mayor de edad?</label>
        <input type="radio" name="bar" value="yes" /> Sí
        <input type="radio" name="bar" value="no" /> No
      </div>
      {% if form.errors %}
      <div class="form-error">
        <span class="glyphicon glyphicon-remove"></span>
        {% for error, messages in form.errors.iteritems() %}
          {% for message in messages %}
            {{ message }}
          {% endfor %}
        {% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="panel-footer">
      <button id="submit-register" type="submit" class="btn btn-primary pull-right">Registrarse</button>
      <div class="clearfix"></div>
    </div>
  </div>
</form>

<script type="text/javascript">
  $("document").ready(function() {
    $("#submit-register").attr("disabled", "disabled");
    $("input[name=bar]").click(function() {
      if ($(this).val() == "yes") {
        $("#submit-register").removeAttr("disabled")
      } else if (!$("#submit-register").attr("disabled")) {
        $("#submit-register").attr("disabled", "disabled");
      }
    });
  });
</script>

{% endblock %}
